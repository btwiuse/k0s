load("@io_bazel_rules_go//go:def.bzl", "go_library")

go_library(
    name = "go_default_library",
    srcs = [
        "arp_linux.go",
        "bcache_linux.go",
        "bonding_linux.go",
        "boot_time_bsd.go",
        "boot_time_solaris.go",
        "buddyinfo.go",
        "collector.go",
        "conntrack_linux.go",
        "cpu_common.go",
        "cpu_darwin.go",
        "cpu_dragonfly.go",
        "cpu_freebsd.go",
        "cpu_linux.go",
        "cpu_openbsd.go",
        "cpu_solaris.go",
        "cpufreq_linux.go",
        "cpufreq_solaris.go",
        "devstat_dragonfly.go",
        "devstat_freebsd.c",
        "devstat_freebsd.go",
        "devstat_freebsd.h",
        "diskstats_common.go",
        "diskstats_darwin.go",
        "diskstats_linux.go",
        "diskstats_openbsd.go",
        "drbd_linux.go",
        "edac_linux.go",
        "entropy_linux.go",
        "exec_bsd.go",
        "filefd_linux.go",
        "filesystem_bsd.go",
        "filesystem_common.go",
        "filesystem_freebsd.go",
        "filesystem_linux.go",
        "helper.go",
        "hwmon_linux.go",
        "infiniband_linux.go",
        "interrupts_common.go",
        "interrupts_linux.go",
        "interrupts_openbsd.go",
        "ipvs_linux.go",
        "ksmd_linux.go",
        "kvm_bsd.c",
        "kvm_bsd.go",
        "kvm_bsd.h",
        "loadavg.go",
        "loadavg_freebsd.go",
        "loadavg_linux.go",
        "loadavg_solaris.go",
        "loadavg_unix.go",
        "logind_linux.go",
        "mdadm_linux.go",
        "meminfo.go",
        "meminfo_darwin.go",
        "meminfo_linux.go",
        "meminfo_numa_linux.go",
        "meminfo_openbsd.go",
        "memory_bsd.go",
        "mountstats_linux.go",
        "netclass_linux.go",
        "netdev_bsd.go",
        "netdev_common.go",
        "netdev_darwin.go",
        "netdev_linux.go",
        "netdev_openbsd.go",
        "netstat_linux.go",
        "nfs_linux.go",
        "nfsd_linux.go",
        "ntp.go",
        "paths.go",
        "perf_linux.go",
        "powersupplyclass.go",
        "pressure_linux.go",
        "processes_linux.go",
        "qdisc_linux.go",
        "runit.go",
        "schedstat_linux.go",
        "sockstat_linux.go",
        "softnet_linux.go",
        "stat_linux.go",
        "supervisord.go",
        "sysctl_bsd.go",
        "systemd_linux.go",
        "tcpstat_linux.go",
        "textfile.go",
        "thermal_zone_linux.go",
        "time.go",
        "timex.go",
        "uname.go",
        "uname_bsd.go",
        "uname_linux.go",
        "vmstat_linux.go",
        "wifi_linux.go",
        "xfs_linux.go",
        "zfs.go",
        "zfs_freebsd.go",
        "zfs_linux.go",
        "zfs_solaris.go",
    ],
    cgo = True,
    clinkopts = select({
        "@io_bazel_rules_go//go/platform:darwin": [
            "",
        ],
        "@io_bazel_rules_go//go/platform:dragonfly": [
            "",
            "-ldevstat",
            "-lkvm",
        ],
        "@io_bazel_rules_go//go/platform:freebsd": [
            "-ldevstat -lkvm -lelf",
            "-lkvm",
        ],
        "@io_bazel_rules_go//go/platform:ios": [
            "",
        ],
        "//conditions:default": [],
    }),
    copts = select({
        "@io_bazel_rules_go//go/platform:dragonfly": [
            "-D_IFI_OQDROPS",
        ],
        "@io_bazel_rules_go//go/platform:freebsd": [
            "-D_IFI_OQDROPS",
        ],
        "//conditions:default": [],
    }),
    importmap = "k0s.io/k0s/vendor/github.com/prometheus/node_exporter/collector",
    importpath = "github.com/prometheus/node_exporter/collector",
    visibility = ["//visibility:public"],
    deps = [
        "//vendor/github.com/beevik/ntp:go_default_library",
        "//vendor/github.com/go-kit/kit/log:go_default_library",
        "//vendor/github.com/go-kit/kit/log/level:go_default_library",
        "//vendor/github.com/mattn/go-xmlrpc:go_default_library",
        "//vendor/github.com/prometheus/client_golang/prometheus:go_default_library",
        "//vendor/github.com/prometheus/client_model/go:go_default_library",
        "//vendor/github.com/prometheus/common/expfmt:go_default_library",
        "//vendor/github.com/prometheus/procfs:go_default_library",
        "//vendor/github.com/soundcloud/go-runit/runit:go_default_library",
        "//vendor/gopkg.in/alecthomas/kingpin.v2:go_default_library",
    ] + select({
        "@io_bazel_rules_go//go/platform:android": [
            "//vendor/github.com/coreos/go-systemd/dbus:go_default_library",
            "//vendor/github.com/ema/qdisc:go_default_library",
            "//vendor/github.com/godbus/dbus:go_default_library",
            "//vendor/github.com/hodgesds/perf-utils:go_default_library",
            "//vendor/github.com/mdlayher/wifi:go_default_library",
            "//vendor/github.com/prometheus/procfs/bcache:go_default_library",
            "//vendor/github.com/prometheus/procfs/nfs:go_default_library",
            "//vendor/github.com/prometheus/procfs/sysfs:go_default_library",
            "//vendor/github.com/prometheus/procfs/xfs:go_default_library",
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:darwin": [
            "//vendor/github.com/lufia/iostat:go_default_library",
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:dragonfly": [
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:freebsd": [
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:ios": [
            "//vendor/github.com/lufia/iostat:go_default_library",
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:linux": [
            "//vendor/github.com/coreos/go-systemd/dbus:go_default_library",
            "//vendor/github.com/ema/qdisc:go_default_library",
            "//vendor/github.com/godbus/dbus:go_default_library",
            "//vendor/github.com/hodgesds/perf-utils:go_default_library",
            "//vendor/github.com/mdlayher/wifi:go_default_library",
            "//vendor/github.com/prometheus/procfs/bcache:go_default_library",
            "//vendor/github.com/prometheus/procfs/nfs:go_default_library",
            "//vendor/github.com/prometheus/procfs/sysfs:go_default_library",
            "//vendor/github.com/prometheus/procfs/xfs:go_default_library",
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:netbsd": [
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:openbsd": [
            "//vendor/golang.org/x/sys/unix:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:solaris": [
            "//vendor/github.com/siebenmann/go-kstat:go_default_library",
        ],
        "//conditions:default": [],
    }),
)
